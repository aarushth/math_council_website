generator client {
  provider = "prisma-client"
  engineType = "client"
  generatedFileExtension = "ts"
  importFileExtension    = "ts"
  output   = "./generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model Event {
  id            Int            @id @default(autoincrement())
  name          String
  description   String
  date          DateTime
  location      String
  active        Boolean        @default(true)
  totalScore    Int?
  questionPdf   String?
  registrations Registration[]
}

model User {
  id            Int            @id @default(autoincrement())
  email         String         @unique
  name          String?
  admin         Boolean        @default(false)
  picture       String?
  registrations Registration[]
}

model Registration {
  id          Int       @id @default(autoincrement())
  studentName String
  grade       Int
  userId      Int
  eventId     Int
  score       Int?
  scoreReport Boolean[]
  event       Event     @relation(fields: [eventId], references: [id], onDelete: Cascade)
  user        User      @relation(fields: [userId], references: [id])
}
